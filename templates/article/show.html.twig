{% extends 'base.html.twig' %}

{% block title %}Article{% endblock %}

{% block body %}
    <h1>Article</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ article.id }}</td>
            </tr>
            <tr>
                <th>Title</th>
                <td>{{ article.title }}</td>
            </tr>
            <tr>
                <th>Content</th>
                <td>{{ article.content }}</td>
            </tr>
           
           <tr>
                <th>Commentaires</th>
                <td>
                    {% for comment in article.comments %}
                        <p><strong>{{ comment.author }}</strong> - {{ comment.createdAt|date('d/m/Y H:i') }}</p>
                        <p>{{ comment.content }}</p>
                        <hr>
                    {% else %}
                        <p>Aucun commentaire pour le moment.</p>
                    {% endfor %}
                </td>
            </tr>
        </tbody>
    </table>

    <h2>Ajouter un commentaire</h2>
        {{ form_start(commentForm) }}
        {{ form_widget(commentForm) }}
        <button class="btn btn-primary">Publier</button>
        {{ form_end(commentForm) }}

    <a href="{{ path('app_article_index') }}">back to list</a>

    <a href="{{ path('app_article_edit', {'id': article.id}) }}">edit</a>

    {{ include('article/_delete_form.html.twig') }}
{% endblock %}
